
import streamlit as st
import random
import time

st.set_page_config(page_title="è±¡è±¡è¹­è¹­å°éŠæˆ²ä¸–ç•Œ", page_icon="ğŸ˜", layout="centered")
st.title("ğŸ® è±¡è±¡è¹­è¹­å°éŠæˆ²ä¸–ç•Œ v1.0")

st.markdown("é¸æ“‡ä¸€æ¬¾ä½ å–œæ­¡çš„è¹­è¹­éŠæˆ²ï¼Œé–‹å§‹ç™‚ç™’äº’å‹•å§ ğŸ˜ğŸ’–")

# å°éŠæˆ²é¸å–®
game = st.selectbox("é¸æ“‡å°éŠæˆ²", [
    "ğŸ˜ è±¡é¼»å¿«é–ƒè¹­è¹­ç‹",
    "ğŸ«² è±¡æŒé¤Šæˆè¨ˆç•«",
    "ğŸ§  è±¡è±¡è¨˜æ†¶è¨“ç·´æ‰€",
    "ğŸ¯ è±¡è±¡è¹­è¹­å½ˆç å°"
])

# 1. è±¡é¼»å¿«é–ƒè¹­è¹­ç‹
if game == "ğŸ˜ è±¡é¼»å¿«é–ƒè¹­è¹­ç‹":
    st.subheader("ğŸ˜ è±¡é¼»å¿«é–ƒè¹­è¹­ç‹")
    st.markdown("è±¡è±¡æœƒåœ¨ä¸‰ç§’å…§éš¨æ©Ÿå‡ºç¾ï¼Œè«‹æ¶å…ˆé»æ“Šæ­£ç¢ºçš„è±¡è±¡ä¾†è§¸ç™¼è¹­è¹­ï¼")

    target = random.choice(["å°ç´¢", "å†°å˜£", "å°å·§", "æœå…‹", "æ³¢å ¤"])
    st.info(f"ğŸ¯ å¿«é–ƒç›®æ¨™è±¡è±¡æ˜¯ï¼š**{target}**")
    time.sleep(1)

    with st.form("flash_form"):
        choice = st.radio("ğŸ‘† é»æ“Šä½ çœ‹åˆ°çš„è±¡è±¡ï¼", ["å°ç´¢", "å†°å˜£", "å°å·§", "æœå…‹", "æ³¢å ¤"])
        submitted = st.form_submit_button("è¹­ï¼")
        if submitted:
            if choice == target:
                st.success("ğŸ‰ ä½ æˆåŠŸè¹­åˆ°è±¡è±¡ï¼ä»–è¶…é–‹å¿ƒåœ°è½‰åœˆåœˆï¼")
            else:
                st.warning("ğŸ˜… è¹­éŒ¯è±¡è±¡å•¦ï½ä»–å®³ç¾è·‘èµ°äº†...")

# 2. è±¡æŒé¤Šæˆè¨ˆç•«
elif game == "ğŸ«² è±¡æŒé¤Šæˆè¨ˆç•«":
    st.subheader("ğŸ«² è±¡æŒé¤Šæˆè¨ˆç•«")
    st.markdown("è«‹å¹«è±¡è±¡æŒ‰æ‘©è±¡æŒï½èª¿æ•´åŠ›åº¦è®“ä»–æœ€èˆ’æœï¼")

    pressure = st.slider("ğŸ§´ æŒ‰æ‘©åŠ›åº¦", 0, 10, 5)
    if st.button("å¹«è±¡è±¡æŒ‰æ‘©ï¼"):
        if pressure < 3:
            st.warning("ğŸ‘‹ åŠ›é“å¤ªå°â€¦è±¡è±¡ç™¢ç™¢çš„ï¼Œç¬‘åˆ°ç¸®èµ·ä¾†ï¼")
        elif pressure > 8:
            st.error("ğŸ˜ å•Šå•Šå¤ªå¤§åŠ›äº†ï½è±¡è±¡å“å“å«é€ƒèµ°äº†ï¼")
        else:
            st.success("ğŸ¥° å®Œç¾åŠ›é“ï¼è±¡æŒè®Šå¾—æŸ”è»Ÿåˆé¦™é¦™ï½")
            st.balloons()

# 3. è¨˜æ†¶è¨“ç·´æ‰€
elif game == "ğŸ§  è±¡è±¡è¨˜æ†¶è¨“ç·´æ‰€":
    st.subheader("ğŸ§  è±¡è±¡è¨˜æ†¶è¨“ç·´æ‰€")
    st.markdown("è±¡è±¡å€‘èªªäº†è©±ï¼Œè«‹è¨˜ä½æ˜¯èª°èªªçš„ï¼")

    sayings = {
        "å°ç´¢": "æˆ‘ä¸åªæœƒè¹­ï¼Œæˆ‘é‚„æœƒé™ªä½ ï½",
        "å†°å˜£": "é¦™é¦™çš„æˆ‘ä¾†å•¦ï½",
        "æœå…‹": "æœ•ä¹Ÿéœ€è¦è¢«è¹­ã€‚",
        "å°å·§": "ä¾†ï½åƒé»å¿ƒå†è¹­ï½"
    }
    speaker, line = random.choice(list(sayings.items()))
    st.markdown(f"ğŸ’¬ æœ‰è±¡è±¡å‰›å‰›èªªäº†ï¼šã€Œ_{line}_ã€")
    guess = st.selectbox("è«‹é¸æ“‡èª°èªªçš„", list(sayings.keys()))
    if st.button("æäº¤ç­”æ¡ˆ"):
        if guess == speaker:
            st.success("ğŸ’¡ å¤ªæ£’äº†ï¼Œä½ è¨˜å¾—è±¡è±¡çš„å¿ƒè²ï½è¦ªå¯†åº¦ +10ï¼")
        else:
            st.error(f"ğŸ™ˆ éŒ¯äº†ï¼å‰›å‰›æ˜¯ **{speaker}** åœ¨èªªè©±å•¦ï½")

# 4. è¹­è¹­å½ˆç å°
elif game == "ğŸ¯ è±¡è±¡è¹­è¹­å½ˆç å°":
    st.subheader("ğŸ¯ è±¡è±¡è¹­è¹­å½ˆç å°")
    st.markdown("æ”¾å‡ºä¸€é¡†è¹­è¹­çƒï¼Œçœ‹çœ‹å®ƒæ‰é€²å“ªå€‹è¹­æ„Ÿæ´å£ï¼")

    if st.button("æ”¾å‡ºè¹­è¹­çƒï¼ğŸª€"):
        outcome = random.choice([
            "ğŸ’— è¦ªå¯†æ´ï¼è±¡è±¡ç«‹åˆ»é»éä¾†ï½",
            "ğŸ¥ é»å¿ƒé¤µé£Ÿå£ï¼ä½ å˜´å·´è¢«å¡æ»¿äº†è±¡è€³é¬†é¤…ï¼",
            "ğŸ› è±¡æŒæŠ±ç·Šè™•ç†æ§½ï½ä½ ç¾åœ¨è¢«åŒ…èµ·ä¾†äº†ï¼",
            "ğŸ˜ è±¡è±¡æ‡¶å¾—ç†ä½ å€â€¦ä»Šå¤©ä»–æƒ³ä¼‘æ¯â€¦"
        ])
        st.markdown(f"ğŸ“£ çµæœï¼š**{outcome}**")
